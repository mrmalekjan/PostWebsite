<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>{{ user.username }} - Profile</title>
    <link rel="stylesheet" href="{{ url_for('static',filename='css/post.css') }}" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700">
    <link rel="stylesheet" href="{{ url_for('static',filename='css/fontawesome.min.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static',filename='css/bootstrap.min.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static',filename='css/templatemo-style.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static',filename='css/home.css') }}" /> 
    <link rel="stylesheet" href="{{ url_for('static',filename='css/comment-section.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/profile.css') }}">
</head>
<body style="padding-top: 90px;">
    {% include 'top-nav-bar.html' %}

    <div class="profile-container">
        <!--div class="cover-photo">
            <img src="#" alt="Cover Photo">
        </div>
        <div class="profile-photo">
            <img src="#" alt="Profile Photo">
        </div-->
        <div class="profile-info">
            <h1 class="profile-name-style">{{  user.username }}</h1>
            <p>{{ bio }}</p>
            <!--div class="profile-stats">
                <span><b>#</b> Posts</span>
                <span><b>#</b> Followers</span>
                <span><b>#</b> Following</span>
            </div-->
        </div>
    </div>
    {% with messages = get_flashed_messages() %}
    {% if messages %}
        <div class="custom-alert">
        <ul class="flashes">
            {% for message in messages %}
            <li>{{ message }}</li>
            {% endfor %}
        </ul>
        </div>
    {% endif %}
{% endwith %}
    <div class="content">
        <h2 >Posts by {{ user }}</h2>
        <div class="post-grid">
            {% for post in user_posts %}

                <div class="post-card">
                    <img name="post_img" src="{{post.image}}" alt="Post Image">
                    <form action="{{ url_for('delete_post', post_id=post.id) }}" method="POST">
                        <div class="post-info">
                            <button name = "post_delete" type="submit">Delete</button>
                    </form>
                    <form action="{{ url_for('update_post', post_id=post.id) }}" method="GET">

                            <button name="edit_post" type="submit">Edit</button>
                    </form>
                    
                        <h3 name="post_title">{{ post['title'] }}</h3>
                        <p name ="post_content">{{ post['post_description'] }}</p>
                        <div class="post-stats">
                            <!--span><i class="fas fa-eye">#</i>views</span>
                            <span><i class="fas fa-thumbs-up">#</i>likes</span>
                            <span><i class="fas fa-thumbs-down">#</i>dislikes</span-->
                            <span><i class="fas fa-comment-alt"> </i> {{post['comments']|length}}</span>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
    <p style="text-align: center;">{{user_specs.comments|length}}</p>

    {% include 'tm-footer.html' %}

    <script src="{{ url_for('static', filename='js/jquery-3.3.1.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
</body>
</html>
